# 1.简述Django请求生命周期

一般是用户通过浏览器向我们的服务器发起一个请求(request)这个请求会去访问视图函数，如果不涉及到数据据调用，那么这个时候试图函数返回一个模板也就是一个网页给用户)

视图函数调用模板类去数据库查找数据，然后逐级返回，视图函数把返回的数据填充到模板中空格中，最后返回网页给用户。

1.wsgi，请求封装后交给web框架（Flask，Django)
2.中间件，对请求来进行校验或在请求对象中添加其他相关数据，例如：csrf,request.session
3.路由匹配 根据浏览器发送的不同url去匹配不同的视图函数
4.视图函数，在视图函数中进行业务逻辑的处理，可能涉及到：orm，templates
5.中间件，对响应的数据进行处理
6.wsgi，将响应的内容发送给浏览器
# 2.Django基本命令
`django-admin` 是 **Django 自带的命令行工具**，相当于一个“万能遥控器”，用来管理和操作 Django 项目。

它的核心作用：

1. **项目和应用管理**

   * `django-admin startproject <项目名>`：新建一个 Django 项目。
   * `django-admin startapp <应用名>`：在项目里新建一个应用（app）。

2. **运行和调试**（通常用 `manage.py`，但底层其实就是 `django-admin`）

   * `django-admin runserver --settings=mysite.settings`：启动开发服务器。
   * `django-admin shell --settings=mysite.settings`：进入 Django 环境下的交互式 Python shell。

3. **数据库操作**

   * `django-admin makemigrations --settings=mysite.settings`：生成数据库迁移文件（根据你定义的 models）。
   * `django-admin migrate --settings=mysite.settings`：执行迁移，真正改动数据库结构。
   * `django-admin sqlmigrate <迁移名> --settings=mysite.settings`：查看迁移对应的 SQL。
   * `django-admin dbshell --settings=mysite.settings`：进入数据库的命令行工具。

4. **实用工具**

   * `django-admin createsuperuser --settings=mysite.settings`：创建后台管理员账号。
   * `django-admin collectstatic --settings=mysite.settings`：收集静态文件（部署时用）。
   * `django-admin changepassword <用户名> --settings=mysite.settings`：修改用户密码。

---

常用 `manage.py` 命令有：

* **项目运行**

  * `python manage.py runserver`：启动开发服务器。
  * `python manage.py shell`：进入 Django 环境下的 Python 交互式命令行。

* **数据库相关**

  * `python manage.py makemigrations`：根据 models 生成迁移文件。
  * `python manage.py migrate`：执行迁移操作，更新数据库结构。
  * `python manage.py createsuperuser`：创建管理员账号。
  * `python manage.py dbshell`：进入数据库交互界面。

* **静态文件和管理**

  * `python manage.py collectstatic`：收集静态文件（部署时用）。

* **其他**

  * `python manage.py changepassword <用户名>`：修改密码。
  * `python manage.py flush`：清空数据库数据（保留表结构）。

---
总结：

* `django-admin` 是全局命令，和 Django 框架一起安装好就能用。
* `manage.py` 是 Django 在你创建项目时自动生成的一个 **管理脚本**。它的作用就是帮你调用 `django-admin` 命令，但额外加了一层“项目上下文”——比如自动加载当前项目的 `settings.py` 配置。所以**在项目里推荐用 `python manage.py xxx`，而不是直接 `django-admin xxx --settings=mysite.settings`**。

换句话说：

* **`django-admin`** → 全局工具，不知道你在哪个项目里。
* **`manage.py`** → 项目专用工具，知道你项目的配置，几乎所有开发工作都用它。
